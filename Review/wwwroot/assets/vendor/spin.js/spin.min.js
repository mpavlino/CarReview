!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e((t = "undefined" != typeof globalThis ? globalThis : t || self).Spin = {}) }(this, function (t) { "use strict"; var e = function () { return (e = Object.assign || function (t) { for (var e, s = 1, n = arguments.length; s < n; s++)for (var i in e = arguments[s]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]); return t }).apply(this, arguments) }, s = { lines: 12, length: 7, width: 5, radius: 10, scale: 1, corners: 1, color: "#000", fadeColor: "transparent", animation: "spinner-line-fade-default", rotate: 0, direction: 1, speed: 1, zIndex: 2e9, className: "spinner", top: "50%", left: "50%", shadow: "0 0 1px transparent", position: "absolute" }, n = function () { function t(t) { void 0 === t && (t = {}), this.opts = e(e({}, s), t) } return t.prototype.spin = function (t) { return this.stop(), this.el = document.createElement("div"), this.el.className = this.opts.className, this.el.setAttribute("role", "progressbar"), this.el.style.position = this.opts.position, this.el.style.width = "0", this.el.style.zIndex = this.opts.zIndex.toString(), this.el.style.left = this.opts.left, this.el.style.top = this.opts.top, this.el.style.transform = "scale(".concat(this.opts.scale, ")"), t && t.insertBefore(this.el, t.firstChild || null), function t(e, s) { var n = Math.round(s.corners * s.width * 500) / 1e3 + "px", r = "none"; !0 === s.shadow ? r = "0 2px 4px #000" : "string" == typeof s.shadow && (r = s.shadow); for (var a = function t(e) { for (var s = /^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/, n = [], i = 0, o = e.split(","); i < o.length; i++) { var r = o[i].match(s); if (null !== r) { var a = +r[2], l = +r[5], p = r[4], d = r[7]; 0 !== a || p || (p = d), 0 !== l || d || (d = p), p === d && n.push({ prefix: r[1] || "", x: a, y: l, xUnits: p, yUnits: d, end: r[8] }) } } return n }(r), l = 0; l < s.lines; l++) { var p = ~~(360 / s.lines * l + s.rotate), d = document.createElement("div"); d.style.position = "absolute", d.style.top = "".concat(-s.width / 2, "px"), d.style.width = s.length + s.width + "px", d.style.height = s.width + "px", d.style.background = i(s.fadeColor, l), d.style.borderRadius = n, d.style.transformOrigin = "left", d.style.transform = "rotate(".concat(p, "deg) translateX(").concat(s.radius, "px)"); var h = l * s.direction / s.lines / s.speed; h -= 1 / s.speed; var c = document.createElement("div"); c.style.width = "100%", c.style.height = "100%", c.style.background = i(s.color, l), c.style.borderRadius = n, c.style.boxShadow = o(a, p), c.style.animation = "".concat(1 / s.speed, "s linear ").concat(h, "s infinite ").concat(s.animation), d.appendChild(c), e.appendChild(d) } }(this.el, this.opts), this }, t.prototype.stop = function () { return this.el && (this.el.parentNode && this.el.parentNode.removeChild(this.el), this.el = void 0), this }, t }(); function i(t, e) { return "string" == typeof t ? t : t[e % t.length] } function o(t, e) { for (var s = [], n = 0, i = t; n < i.length; n++) { var o = i[n], a = r(o.x, o.y, e); s.push(o.prefix + a[0] + o.xUnits + " " + a[1] + o.yUnits + o.end) } return s.join(", ") } function r(t, e, s) { var n = s * Math.PI / 180, i = Math.sin(n), o = Math.cos(n); return [Math.round((t * o + e * i) * 1e3) / 1e3, Math.round((-t * i + e * o) * 1e3) / 1e3,] } t.Spinner = n });